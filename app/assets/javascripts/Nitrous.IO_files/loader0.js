window.olark=function(H,I,ga){H=function(a){var b=function(a){this.$$packages=a.packages;this.$$download=a.download;this.$$activeModules={};this.$$finishedModules={};this.$$pendingModules={};this.$$pendingUrls={};this.$$moduleListeners={};this.$$fromLegacyEmbed=a.fromLegacyEmbed?!0:!1;this.$$context=a.context||this;a=this.$$packages;for(var v=this.$$packageLookupByName={},d=0;d<a.length;d++){var o=a[d],b=o.bundledDependencies||o.bundleDependencies||[];v[o.name]=o;for(var k=0;k<b.length;k++){var y=
b[k];v.hasOwnProperty(y)||(v[y]=o)}}var p=this;this.$$activeModules.require=function(a){var B=p.$$getModuleExports(a);if(B)return B;else if(!p.$$fromLegacyEmbed)throw Error("Cannot find module '"+a+"'");}};b.prototype={define:function(a){a.amd=!0;return a}(function(a,v,d){typeof d==="undefined"&&(d=v,v=["require"]);if(typeof d!=="function"){var b=d;d=function(){return b}}var x=this;(this.$$finishedModules[a]=function(){for(var a=[],b=!0,B=0;B<v.length;B++){var o=x.$$getModuleExports(v[B]);o?a.push(o):
b=!1}if(b)return d.apply(x.$$context,a)})();for(a=this.$$moduleListeners[a]||[];a.length;)setTimeout(a.shift(),0)}),$$getModuleExports:function(a){var b=this.$$activeModules[a],d=this.$$finishedModules[a];if(b)return b;else if(d)return this.$$activeModules[a]=d()},$$listenForModule:function(a,b){this.$$finishedModules[a]?b():(this.$$moduleListeners[a]=this.$$moduleListeners[a]||[]).push(b)},install:function(a,b){for(var d=function(){return b.apply(o.$$context,arguments)},o=this,x=!1,k=function(){if(!x){for(var a in y)if(y.hasOwnProperty(a)&&
!o.$$finishedModules.hasOwnProperty(a))return;x=!0;d(void 0,o.$$getModuleExports("require"))}},y={},p=a.slice(0);p.length>0;){var G=p.shift(),r=this.$$packageLookupByName[G];y[G]=!0;var E=[];if(r){var u=r.dependencies;if(u)for(var F in u)u.hasOwnProperty(F)&&(p.push(F),y[F]=!0);u=this.$$pendingUrls.hasOwnProperty(r.main);var f=this.$$pendingModules.hasOwnProperty(r.name);if(!u&&!f){this.$$pendingUrls[r.main]=!0;this.$$pendingModules[r.name]=!0;u=r.bundledDependencies||r.bundleDependencies||[];for(f=
0;f<u.length;f++)this.$$pendingModules[u[f]]=!0;E.push(r.main)}this.$$listenForModule(G,k)}else{b(Error("'"+G+"' is not in the package manager registry"));break}for(;E.length;)this.$$download(E.shift())}}};a.PackageManager=b;return a}(typeof exports==="undefined"?{}:exports,typeof globals==="undefined"?this:globals);I=function(a,b,B){function v(a){var f=[],b=typeof a==="string";b&&(a=a.split(""));for(var e=x(a.length,0,a.length);e.length;){var d=a.splice(e.pop()%a.length,1);f.push(d)}return b?f.join(""):
f}function d(a){a=a.replace(/[^\d]/g,"").match(/\d{1,2}/g);for(var f="";a&&a.length;)f+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".charAt(parseInt(a.pop())%62);return f}function o(){return typeof a!=="undefined"&&a.crypto&&a.crypto.getRandomValues}function x(F,f,b){var e=[];if(o()){F=new Uint32Array(F);a.crypto.getRandomValues(F);e=Array.prototype.slice.call(F);for(var d=0;d<e.length;d++)e[d]=e[d]%(b-f+1)+f}else for(d=0;d<F;d++)e.push(Math.floor(Math.random()*(b-f+1))+f);return e}
function k(F,f,b){var e=a.navigator;f=f?d(f):"";var r=(e.userLanguage||e.language).replace(/[^\w]/g,""),y=v(d(e.userAgent)),m=(new Date).getTimezoneOffset()/60+25;m=u.charAt(m%u.length);b=b.compatMode==="CSS1Compat"?b.documentElement:b.body;b=[b.clientWidth,b.clientHeight];b=d(""+b[0]+b[1]);e=Array.prototype.slice.call(e.plugins.length?e.plugins:[]);for(var k="";e.length;){var s=e.pop();s.name&&(k+=s.name);s.description&&(k+=s.description);s.version&&(k+=s.version)}e=v(d(k));s=Math.floor(E/3);k=Math.floor(E/
4);o()&&(s=Math.floor(E/2),k=Math.floor(E/6));s=x(s,0,u.length-1);for(var p="";s.length;)p+=u.charAt(s.pop());p+=f.slice(0,k);p+=b+m+e+y+r;return p.slice(0,F)}function y(){this.__http_requests=[]}function p(a,f){this.cookieManager=a;this.targetWindow=f}var G=4,r=10,E=32,u="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";(function(a){a.logHttpRequest=function(a){this.__http_requests.push(a)};a.getHttpRequests=function(){return this.__http_requests}})(y.prototype);(function(b){b.getConversationId=
function(){return olark._.conversationId||this.cookieManager.get("wcsid")};b.setConversationId=function(b){if(a.hbl&&(hbl.wcsid=b,hbl.client))hbl.client.sid=b,hbl.client.wcsid=b;olark._.conversationId=b;this.cookieManager.set("wcsid",b)};b.deleteConversationId=function(){this.setConversationId(void 0);this.cookieManager.erase("wcsid")};b.getVisitorId=function(){return olark._.visitorId};b.setVisitorId=function(b){if(a.hbl&&(hbl.hblid=b,hbl.client))hbl.client.hblid=b;olark._.visitorId=b;this.cookieManager.set("hblid",
b,63072E6)};b.getSiteId=function(){return olark._.siteId||"missing-site-id"};b.setSiteId=function(b){if(a.hbl&&(hbl.siteid=b,hbl.client))hbl.client.siteid=b;olark._.siteId=b};b.deleteIdentityFromCookies=function(){this.cookieManager.erase("wcsid");this.cookieManager.erase("hblid");this.cookieManager.erase("_okbk")};b.triggerIfIdentityIsReady=function(a){olark._.siteId&&olark._.visitorId&&olark._.conversationId&&a(olark._.siteId,olark._.visitorId,olark._.conversationId)};b.isNewConversation=function(){return olark._.isNewConversation};
b.isConversationIdAlive=function(){var a=this.cookieManager.get("_oklv",!0);if(a){var b=a.split(",");a=parseInt(b[0]);b=b[1]||this.getConversationId();a=+new Date-a;return b===this.getConversationId()&&a<olark._.maxMillisecondsConversationCanBeIdle}else return!1};b.keepConversationIdAlive=function(){this.cookieManager.set("_oklv",[(+new Date).toString(),this.getConversationId()].join(","))};b.watchConversationIdForExpiration=function(a){function b(){d.isConversationIdAlive()?d.keepConversationIdAlive():
olark("api.chat.onReady",function(){d.targetWindow.hbl.client.eventmgr.handle("conversation_ended",{next_conversation_id:a})});setTimeout(b,k)}var d=this,k=olark._.maxMillisecondsConversationCanBeIdle/20;b()};b.getOklvValueForPopout=function(){return[+new Date+864E5,this.getConversationId()].join(",")}})(p.prototype);return{downloadAssetsAndApplication:function(d,f,o,e,v,x,m,H,s){function I(){return/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm|iemobile|windows\sphone/i.test(navigator.userAgent.toLowerCase())}
function ha(a,c){var n=a.document.createElement("iframe"),h="anonymousframe"+ +new Date;n.id=h;n.name=h;n.style.position="absolute";n.style.left="-9999999px";n.style.width="1px";n.frameBorder="0";n.allowTransparency="true";a[h]=c||function(){};n.src="javascript:false";var d=a.document;(d.getElementsByTagName("body")[0]||d.body||d).appendChild(n);try{n.contentWindow.document.open()}catch(g){domainSrc='javascript:var d=document.open();d.domain="'+b.domain+'";',n.src=domainSrc+"void(0);"}h='<head></head><body onload="window.parent.'+
h+'(window)"></body>';try{var m=n.contentWindow.document;m.write(h);m.close()}catch(f){n.src=domainSrc+'d.write("'+h.replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}return n}function M(a,b){b=b||w;var c=b.createElement("script"),d=m.location.protocol=="https:"?"https:":"http:";a=a.replace(/^\/\//,"");c.src=d+"//"+a;c.async=!0;c.defer=!0;c.setAttribute("data-cfasync","false");(b.getElementsByTagName("head")[0]||b.getElementsByTagName("body")[0]||b.body).appendChild(c)}function ia(a){a.sort(function(a,
b){return b.length-a.length});for(var b=0;b<a.length;b++){var c=a[b];if(!/^\s*$/.test(c)&&(c="."+c.replace(/^[\s\*\.]*/,""),w.location.hostname.indexOf(c.replace(/^\./,""))>=0))return c}return null}function ja(a,b){var c;typeof XMLHttpRequest!=="undefined"&&(c=new XMLHttpRequest);c&&"withCredentials"in c?c.open(a,b,!0):typeof XDomainRequest!=="undefined"?(c=new XDomainRequest,c.open(a,b)):c=null;return c}function ka(P,d,n,h,g,f){P=["c=create","u="+encodeURIComponent(w.location.href),"r="+encodeURIComponent(w.referrer),
"s="+encodeURIComponent(P),"v="+encodeURIComponent(d),"i="+encodeURIComponent(n),"g="+encodeURIComponent(h||"ALL"),"q=precache"+Math.random().toString().replace(".",""),"j=o0","version=loader-precache"];g&&(P.push("end_conversation=1"),c._.identityManager.isNewConversation()&&P.push("is_new_conversation=1"));var e=m.olark._.nrpcPrecache={response:null,responseCallback:null},j=function(a){e.response=a;e.responseCallback&&e.responseCallback(a)};g=f+"/c?"+P.join("&");var t=ja("GET",(w.location.protocol===
"https:"?"https:":"http:")+"//"+g);if(t){t.onload=function(){(new Function("create",t.responseText))(j)};var K=!1;handleCorsErrorOnce=function(){K||(K=!0,j({status:500}))};t.onerror=handleCorsErrorOnce;t.onabort=handleCorsErrorOnce;t.ontimeout=handleCorsErrorOnce;t.onprogress=function(){};c._.internalLog.logHttpRequest(g);t.send()}else{e.response={status:500};var C="olark_"+Math.random().toString().replace(".","");a[C]=function(b){j(b);a[C]=void 0;try{delete a[C]}catch(c){}};M(g+"&cb="+C,b)}}function la(a){var d=
c._.cookieManager.get("_okac")||+new Date,g=c._.cookieManager.get("_okla")||!1;j.P("getassets");g?M(j.assetHost+"/a/assets/v0/site/"+a+".js?cb="+d+"&v="+x,b):M("static.olark.com/a/assets/v0/site/"+a+".js?cb="+d+"&v="+x,b)}function ma(){var a=Q.match(/(olarkid=(0000-0000-0000-0000|1470-860-10-9245))/);return a&&a[2]?a[2]:null}function S(a,b){return(m.location.protocol=="https:"?"https:":"http:")+"//"+a+b}function g(){var a=!0;if(/\#(begin_conversation|perf_.+|triggered_rule_action|cobrowsing)/.test(arguments[0]||
""))a=!1;if(!(a&&Math.random()>0.15)){T++;a=+new Date;if(a-X<=1E3){if(T>G)return}else T=0,X=a;Y++;if(!(Y>r)){a=Array.prototype.slice.call(arguments||[]).join(" ");var g=m.name||Math.random().toString().replace("0.","oktab");g=/^oktab/.test(g)?g:"unknown";a=["actor=jsclient","application="+encodeURIComponent(d),"location="+encodeURIComponent(w.location.href.toString().slice(0,50)),"referrer="+encodeURIComponent(w.referrer.toString().slice(0,15)),"message="+encodeURIComponent(a),"tabname="+encodeURIComponent(g),
"cachebreak="+encodeURIComponent((+new Date).toString())];c._.isHypothesis&&a.push("hypothesis_name="+encodeURIComponent(c._.hypothesisName));c._.identityManager.getConversationId()&&a.push("conversation_id="+encodeURIComponent(c._.identityManager.getConversationId()));c._.identityManager.getVisitorId()&&a.push("visitor_id="+encodeURIComponent(c._.identityManager.getVisitorId()));c._.identityManager.getSiteId()&&a.push("site_id="+encodeURIComponent(c._.identityManager.getSiteId()));M("log.olark.com/jslog/log.js?"+
a.join("&"),b)}}}var c=m.olark;c._.P("loader");try{(function(){function b(a){a=parseInt(a);return a>2E4?2E4:a}function d(){if(p&&c._.preventBoot!==!0){var a=!1,A=[];!C&&t&&n.hasOwnProperty(o)&&n.hasOwnProperty(l)&&(A.push("#perf_getframe.loader0,"+h+"="+n[o]),A.push("#perf_frame.loader0,"+h+"="+n[l]),C=!0);for(var i in K)if(K.hasOwnProperty(i)&&!K[i]){var z=n[i];typeof z!="number"&&u<=0&&(z=+new Date-n[0]);typeof z=="number"?(A.push("#perf_"+i+"."+s+","+h+"="+b(z)),K[i]=!0):a=!0}u--;g("tracking performance data "+
A.join(" "));a&&setTimeout(d,w)}}var n=c._.p,h="UnknownBrowser",f=(m.navigator.userAgent||"").toLowerCase(),e=/msie\s*6/.test(f),j=/msie\s*7/.test(f),k=/msie/.test(f)&&!(e||j);I()?h="MobileBrowser":/chrome/.test(f)?h="Chrome":/safari/.test(f)?h="Safari":/firefox/.test(f)?h="Firefox":/opera/.test(f)?h="Opera":e?h="IE6":j?h="IE7":k&&(h="IE8Plus");var t=!1,K={application:!1,assets:!1,box:!1,connection:!1,extready:!1,getapplication:!1,getconnection:!1,idready:!1,load:!1,loader:!1},C=!1,o=1,l=2,w=3E3,
u=5,p=Math.random()<0.1?!0:/me\.olark\.net/.test(a.location.href);setTimeout(d,2E3)})()}catch(ga){c("api.boot.onIdentityReady",function(){g("performance tracking #performance_tracking_error #error")})}var na=/^\s*(omp__super_properties)\s*$/,Y=0,X=+new Date,T=0,l=function(){function b(q,A,i,d,h,e,n){function D(){if(i){var b=new Date;b.setTime(b.getTime()+i);var D="; expires="+b.toGMTString()}else D="";var N=h?"; domain="+h:"",g=e?"; secure":"",n="; path="+d;b=escape(A.toString());u?i<0?localStorage.removeItem(p+
q):localStorage.setItem(p+q,JSON.stringify({value:b,expires:i?(new Date).getTime()+i:null})):w.cookie=q+"="+b+D+N+n+g;D=f();i<0?D[q]&&D[q].length>0&&D[q].shift():D[q]?D[q][0]=b:D[q]=[b];i>0&&i<216E7&&q!=r&&a.console&&a.console.warn&&a.console.warn("[olark] cookie expiration set too low for cache:",q);if(i<0){if(b=j(function(){return c(q)}),typeof b!="undefined")throw Error("[olark] unable to delete cookie: "+q);}else if(b=j(function(){return c(q,!0)}),b!=A.toString())throw Error("[olark] unable to set cookie: "+
q+", expected "+A+" but got "+b);}var N=m!=m.top?"#iframe_cookie":"";if(A||A===0)try{D()}catch(k){if(n)throw k;else try{u?localStorage.removeItem(p+q):w.cookie=q+"=;expires=Thu, 01-Jan-1970 00:00:01 GMT",D(),g("value of cookie",q,"was fixed #warn #cookie_needed_cleanpath",N)}catch(o){try{for(var l=m.location.hostname.split(".");l.length>2;)l.shift(),u?localStorage.removeItem(p+q):w.cookie=q+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; domain=."+l.join(".")+"; path="+d;D();g("value of cookie",q,"was fixed #warn #cookie_needed_cleandomain",
N)}catch(t){g(t.message,"#error #cookie_storefail",N)}}}else g("value of cookie",q,"was",A,", prevent write #error #cookie_writenull",N)}function c(a,b){var i=function(){var b=f()[a]||[];return b.length==1?b[0]:b.length==0?{}.undefinedValue:(na.test(a)||g("got multiple values for",a,"-",b.join(", "),"#warn #cookie_orig_multivalue"),b[0])}();i=i?unescape(i):i;var d=b&&/^\s*$/.test(w.cookie)?" #emptycookie":"";if(/^\s*$/.test(i))g("value of cookie",a,"is empty string, forcing to undefined #warn #cookie_emptystring"+
d,"))"),i={}.undefinedValue;else if(i=="null")g("value of cookie",a,"is a string 'null', looks like it should have been null, forcing to null #warn #cookie_readnull"+d),i=null;else if(i=="undefined")g("value of cookie",a,"is a string 'undefined', looks like it should have been undefined, forcing to undefined #warn #cookie_readundefined"+d),i={}.undefinedValue;else if(i=="**erased")i={}.undefinedValue;return i}function d(a,c,i){b(a,"**erased",-2592E6,o,t,c,i)}function h(b){for(var c=a.location.search.replace(/^\?/,
"").split(/&/),d=c.length-1,g;d>=0;d--)if(g=c[d].split(/=/),g[0]==b)return g[1];return{}.undefinedValue}function f(){(s===null||v)&&e();return s}function e(){s={};if(u)for(var a in localStorage){if(a.indexOf(p)===0){var b=a.replace(p,""),c=localStorage.getItem(p+b);c&&(c=JSON.parse(c),c.expires&&c.expires<(new Date).getTime()?localStorage.removeItem(p+b):s[b]=[c.value])}}else{a=w.cookie.split(";");for(b=0;b<a.length;b++){var d=a[b],g=d.split("=")[0];c=g.replace(/^\s*/,"").replace(/^\s*/,"");d=d.substring(g.length+
1,d.length);s[c]=s[c]||[];s[c].push(d)}}}function j(b){var c;try{v=!0,c=b()}catch(d){a.console&&a.console.error&&a.console.error(d)}v=!1;return c}var o="/",t=null,k=!1,l={},u=/^file\:\/\//.test(m.location.href)&&"localStorage"in a?!0:!1,p="OLARK-",s={},v=!1,r="_okck";return{setPath:function(a){o=a},setDomain:function(a){t=a},setSecure:function(a){k=a},useLocalStorage:function(){u=!0;e()},isAllowedToWriteCookies:function(){function a(){try{return b(r,i,null,o,t,k,!0),d(r,k,!0),!0}catch(c){return e=
c.toString(),!1}}function c(){try{return b(r,i,5E3,o,t,k,!0),d(r,k,!0),!0}catch(a){return e=a.toString(),!1}}var i=Math.random().toString().replace("0.",""),h=m!=m.top?!0:!1,f=m.navigator.cookieEnabled?!1:!0,e="";try{return f?(g("cannot set any cookies #nocookies_due_to_disabled"),!1):j(a)?j(c)?!0:(h?g("cannot set expirable cookies #nocookies_with_expiry_due_to_p3p",e):g("cannot set expirable cookies #nocookies_with_expiry",e),!1):(h?g("cannot set session cookies #nocookies_for_session_due_to_p3p",
e):g("cannot set session cookies #nocookies_for_session",e),!1)}catch(l){return g("unexpected issue testing cookies:",l.message,"#error #unknown_cookie_test_error"),!1}},set:function(a,c,d){if(!l[a])try{b(a,c,d||null,o,t,k)}catch(h){g("failed to create cookie:",h.toString(),"#error  #cookie_badset")}},get:function(a,b){try{var d=c;b&&(d=function(a){return j(function(){return c(a)})});return l[a]?h(a):d(a)}catch(e){return g("failed to read cookie:",e.toString(),"#error #cookie_badget"),null}},setAllowingNullAndUndefinedAndEmptyString:function(a,
c,d){if(!l[a]){c===null?c="**null":typeof c=="undefined"?c="**undefined":c==""&&(c="**emptystr");try{b(a,c,d||null,o,t,k)}catch(h){g("failed to create cookie:",h.toString(),"#error  #cookie_badset")}}},getAllowingNullAndUndefinedAndEmptyString:function(a){try{var b=l[a]?h(a):c(a);b=="**null"?b=null:b=="**undefined"?b={}.undefinedValue:b=="**emptystr"&&(b="");return b}catch(d){return g("failed to read cookie:",d.toString(),"#error #cookie_badget"),null}},erase:function(a){if(!l[a])try{d(a)}catch(b){g("failed to erase cookie:",
b.toString(),"#error #cookie_baderase")}},backTheseCookiesByQueryString:function(a){for(var b=0;b<a.length;b++)l[a[b]]=!0},refresh:function(){e()}}}(),w=m.document,Q=w.cookie,Z=a.olark=m.olark,j=Z._,L=j.l,O=j.callstack=j.s||[],U=L.match(/((.+)\/(loader\d+|wc|olark|core|olark\-shopify)\..+)?/)[2]||"static.olark.com/jsclient";L=/^static\.olark\.com\/(javascript|js)\/.*$/.test(L);var V,$=!1;c._.f=null;c._.nrpcBaseUrl=parseInt(Math.random()*1E3).toString()+"-events.olark.com/nrpc";c._.maxMillisecondsConversationCanBeIdle=
12E5;c._.identityManager=new p(l,m);c._.internalLog=new y;var aa=!1;c("api.boot.onIdentityReady",function(a,b,d){aa||(aa=!0,ka(a,b,d,V,$,c._.nrpcBaseUrl))});c._.hypothesisName="master";c._.isHypothesis=!1;if(l.isAllowedToWriteCookies()){c._.cookieManager=l;var ba=c._.opm=new B.PackageManager({fromLegacyEmbed:a===m,packages:H,download:function(b){var d=b.replace(/^https?\:\/\//,""),e=function(b){typeof b.define==="undefined"?(b.define=function(){return ba.define.apply(ba,arguments)},b.define.amd={},
M(d,b.document)):(a.console&&console.warn&&console.warn("[olark] AMD define conflict"),g("AMD define conflict #warn #amd_define_conflict"))};a!==m?e(a):ha(m,function(a){a.olark=c;e(a)})},context:m}),ca=!1;setTimeout(function(){ca||c("load")},900);c._.setSiteAssetHash=function(a){c._.cookieManager.set("_okac",a)};c._.setLoaderUseAssets=function(a){c._.cookieManager.set("_okla",a)};c._.assetHost="assets.olark.com";c("api.boot.onIdentityReady",function(b,d,g){function e(){var c=m.clicky;if(c&&c.olark){f=
!1;try{c.olark(b,d,g)}catch(j){a.console&&a.console.warn&&a.console.warn("[olark] unable to connect with clicky: "+j.toString())}}else f&&setTimeout(e,600)}var f=!0;c("api.boot.onWindowLoad",function(){setTimeout(function(){f=!1},2E3)});e()});L&&(U="static.olark.com/jsclient");c._.versions={application:d,legacy:f,storage:o,popout:e,follow:v,loader:x};c._.preventBoot=!1;c._.apiHost="https://api.olark.com";try{if(/framed-by-olark/.test(m.location.hash))c._.preventBoot=!0}catch(pa){}var da=navigator.userAgent.match(/iPad/i)!==
null,oa=!da&&I(),ea=!0,fa=!1,W;a:{try{a.localStorage.setItem("testKey","testVal"),a.localStorage.removeItem("testKey")}catch(qa){if(typeof a.localStorage!=="undefined"&&a.localStorage!==null){W=!0;break a}}W=!1}if(b!==w)b.body.style.cssText="height:100%;margin:0px;padding:0px;background:transparent";(function(){function e(){c._.P("idready");var a,b=c._.identityManager.getSiteId(),d=c._.identityManager.getVisitorId(),g=c._.identityManager.getConversationId();if(b&&d&&g)for(a=R.length>0?R.shift():void 0;a;)a(b,
d,g),a=R.length>0?R.shift():void 0}function f(){var a;if(x)for(a=q.length>0?q.shift():void 0;a;)a(),a=q.length>0?q.shift():void 0}function n(a){function b(){h=!0;c._.conversationId=k(E,a,w);l.set("wcsid",c._.conversationId);l.erase("_okbk");c._.isNewConversation=!0}function d(){h||g("creating new visitor ID when we already had a conversation ID #visitor_changed_on_conversation #warn");c._.visitorId=k(E,a,w);l.set("hblid",c._.visitorId,63072E6)}c._.siteId=a;var f=l.get("hblid"),i=l.get("wcsid"),h=
!1,j=l.get("_okgid");!i||!c._.identityManager.isConversationIdAlive()?b():A&&j!==V?b():RegExp("^["+u+"]+$").test(i)||(g("regenerating invalid wcsid #warn #invalid_wcsid_in_cookie",i),b());f?RegExp("^["+u+"]+$").test(f)||(g("regenerating invalid hblid #warn #invalid_hblid_in_cookie",f),d()):d();c._.visitorId=c._.visitorId||f;c._.conversationId=c._.conversationId||i;if(l.get("hblid")!==c._.visitorId)g("hblid could not be set #error #noboot #unset_hblid"),c._.preventBoot=!0;if(l.get("wcsid")!==c._.conversationId)g("wcsid could not be set #error #noboot #unset_wcsid"),
c._.preventBoot=!0;if(!c._.visitorId||!c._.conversationId)c._.preventBoot=!0,m.location.protocol=="https:"?g("preventing boot due to missing hblid/wcsid #noboot_on_ssl #warn"):g("preventing boot due to missing hblid/wcsid #noboot #warn");c._.identityManager.keepConversationIdAlive();c._.identityManager.watchConversationIdForExpiration(k(E,a,w));e()}function h(a,b,d){if(!d||!L[a])switch(L[a]=!0,a){case "system.asset_host":c._.assetHost=b;break;case "system.allow_mobile_boot":b&&(ea=!1);break;case "system.forced_rpc_server":c._.nrpcBaseUrl=
b;break;case "system.allow_ipad_boot":fa=!b;break;case "system.ignore_window_onload":b&&c("load");break;case "system.allow_end_conversation":$=!0;break;case "system.wait_until_window_onload":b&&(ca=!0);break;case "system.application":y=b;break;case "system.minimize_cookies":b&&l.useLocalStorage();break;case "system.path":l.setPath(b);break;case "system.domain":l.setDomain(b);break;case "system.require_secure_cookies":l.setSecure(b);break;case "system.allowed_domains":b.length&&(a=ia(b.split(/\s*,\s*/)))&&
l.setDomain(a);break;case "system.max_milliseconds_conversation_can_be_idle":c._.maxMillisecondsConversationCanBeIdle=b;break;case "system.group":V=b;break;case "system.group_change_ends_chat":A=b?!0:!1;break;case "system.use_querystring_for_cookies":l.backTheseCookiesByQueryString(b||[]);break;case "system.api_host":c._.apiHost=b}}function p(){if(x&&I&&!G&&!c._.preventBoot&&(!oa||!ea)&&(!da||!fa)&&!W){j.P("prepapplication");c._.isHypothesis?(z="static.olark.com/jsclient-"+c._.hypothesisName+"/application.js",
J=z.split("application.js")[0]):y?(z=y,g("using custom application from inline HTML: "+z+" #custom_application_from_inline"),J=z.split("application.js")[0]):C?(z=C,g("using custom application from asset server: "+z+" #custom_application_from_assets"),J=z.split("application.js")[0]):(z=U+"/application.js",J=U);var f=z,e=/olarkap=(([^;]+.)?(olark.(com|net)(%3Ad+)?|battleship:d+)[^;]+)/,h=/olarkap=([a-zA-Z0-9]+)/;e=e.test(Q)?Q.match(e)[1]:null;h=h.test(Q)?Q.match(h)[1]:null;i=e?/((assets|static)\.olark\.(com|net))/.test(e)?
f+"?v="+d:unescape(e):h?f+"?v="+h:f+"?v="+d;j.popout=S(J,"/popout.html");j.follow=S(J,"/follow.html");j.plugins=S(J,"/plugins");f=j;h=J;e=o;var k=/^static\.olark\.com.+$/.test(h),n=k||m.location.protocol=="https:";isLoadedInBrowserThatReliesOnUserData=!((typeof(a.localStorage=="unknown")?0:a.localStorage)||a.globalStorage)&&b.documentElement&&b.documentElement.addBehavior;f.storage=k&&isLoadedInBrowserThatReliesOnUserData?"https://static.olark.com/jsclient/storage.html?v="+e:(n?"https":"http")+"://"+
h+"/storage.html?v="+e;j.hlog=g;H=(f=i.match(/(.+)\/javascript\/.+/))?f[1]:"static.olark.com";Z.__buildinfo={olarkfile:"/javascript/olark.js",corefile:"/javascript/application.js",jshost:H,dev:/^\s*static\.olark\.com\s*$/.test(H)?!1:!0,strict:l.get("olarkst")=="1"?!0:!1};j.P("getapplication");M(i)}}function s(b){try{var c;switch(b[0]){case "load":x||(x=!0,p(),f());break;case "api.chat.connect":G=!1;p();break;case "api.boot.onIdentityReady":return R.push(b[1]),e(),[b[0],function(){}];case "api.boot.onWindowLoad":return q.push(b[1]),
f(),[b[0],function(){}];case "call":switch(b[1]){case "identify":(c=ma()||b[2][0])&&(c=c.replace(/[^\-\d]/g,""));t?c!==t&&a.console&&a.console.warn&&a.console.warn("[olark] cannot call olark.identify with different identities"):c?(t=c,la(t)):a.console&&a.console.warn&&a.console.warn("[olark] cannot call olark.identify with an empty identity");break;case "configure":h(b[2][0],b[2][1])}}return b}catch(d){return g("unable to handle early deferred call:",d.message,"#warn #early_deferred_fail"),b}}var r,
v,t,x=!1,C=null,y=null,B={},G=!1,I=!1,R=[],q=[],A=!1,i,z,J,H,L={};j.s={push:function(a){O.push(a);O[O.length-1]=s(a)}};j.finish=function(b){j.P("assets");I=!0;if(b)typeof b=="string"?C=b:(B=b,C=(B.system?B.system.application:null)||C,j.defaults=B);if(j.defaults&&j.defaults.system&&j.defaults.system.http_traffic_blocked)return a.console&&a.console.warn&&a.console.warn("[olark] Olark Chat is turned off for this website, if you own this website please contact Olark via support@olark.com"),!1;if(b=b.system)for(var c in b)b.hasOwnProperty(c)&&
h("system."+c,b[c],!0);n(t);p()};j.P("callstackstart");for(r=0;r<O.length;r++)v=O[r],O[r]=s(v);j.P("callstackfinish")})()}}}}(window,document,H);I.downloadAssetsAndApplication("985ffba491aead6e6c7b4acf6c35e67c","9980a6435ceb353dd8213833fab7660f","cce0a334f3d808ebc04fd43470330efc","851a90375f34ca09bff71d2993ad5530","01d173205314c5b4ab01ccfef865d627","Loader0e7f54e2da27cce4896154dca9717ed84",window.parent,[{bundledDependencies:["underscore"],main:"//static.olark.com/modules/olark-targeting-plugin.js",
name:"olark-targeting-plugin"}],"loader0");return olark}();
